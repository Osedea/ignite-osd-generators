import RequestHandler from '<%= props.appName %>/app/helpers/requestHandler';
import <%= props.name %>Service from './reducer';

const { actions: { got<%= props.name %>, get<%= props.name %>Failed } } = <%= props.name %>Service;

/**
 * GET <%= props.name %>
 */
export const get<%= props.name %> = () => (dispatch: Dispatch) => {
    RequestHandler.requestAPI(`/<%= props.kebabCaseName %>`)
        .then((data: Array<<%= props.singularName %>>) => {
            dispatch(got<%= props.name %>(data));
        })
        .catch((response) => {
            dispatch(get<%= props.name %>Failed(response.message));
        });
};
